{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/teraoka/app/note/components/saveButton.tsx\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { isWriteMode, isRewriteMode, setReadMode } from '../states/appMode';\nimport { clearCache } from '../cache/cache';\nimport { viewingNote } from '../states/viewingNote';\nimport { playLowTone } from '../states/soundLibrary';\nimport { addNote, modifyNote } from '../states/notes';\nexport var SaveButton = function SaveButton(props) {\n  return __jsx(\"button\", {\n    onClick: function onClick() {\n      return saveNote(props.src);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 3\n    }\n  }, \"Save\");\n};\n_c = SaveButton;\nexport function saveNote(src) {\n  playLowTone();\n  if (isWriteMode()) addNote(src);else if (isRewriteMode()) modifyNote(src, viewingNote._id);\n  setReadMode();\n  clearCache('writing');\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"SaveButton\");","map":{"version":3,"sources":["/home/teraoka/app/note/components/saveButton.tsx"],"names":["isWriteMode","isRewriteMode","setReadMode","clearCache","viewingNote","playLowTone","addNote","modifyNote","SaveButton","props","saveNote","src","_id"],"mappings":";;;;;AAAA,SAASA,WAAT,EAAsBC,aAAtB,EAAqCC,WAArC,QAAwD,mBAAxD;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,iBAApC;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD;AAAA,SACxB;AAAQ,IAAA,OAAO,EAAE;AAAA,aAAMC,QAAQ,CAACD,KAAK,CAACE,GAAP,CAAd;AAAA,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADwB;AAAA,CAAnB;KAAMH,U;AAIb,OAAO,SAASE,QAAT,CAAkBC,GAAlB,EAA+B;AACpCN,EAAAA,WAAW;AACX,MAAIL,WAAW,EAAf,EAAmBM,OAAO,CAACK,GAAD,CAAP,CAAnB,KACK,IAAIV,aAAa,EAAjB,EAAqBM,UAAU,CAACI,GAAD,EAAMP,WAAW,CAACQ,GAAlB,CAAV;AAC1BV,EAAAA,WAAW;AACXC,EAAAA,UAAU,CAAC,SAAD,CAAV;AACD","sourcesContent":["import { isWriteMode, isRewriteMode, setReadMode } from '../states/appMode'\nimport { clearCache } from '../cache/cache'\nimport { viewingNote } from '../states/viewingNote'\nimport { playLowTone } from '../states/soundLibrary'\nimport { addNote, modifyNote } from '../states/notes'\n\nexport const SaveButton = (props: { src: string }) => (\n  <button onClick={() => saveNote(props.src)}>Save</button>\n)\n\nexport function saveNote(src: string) {\n  playLowTone()\n  if (isWriteMode()) addNote(src)\n  else if (isRewriteMode()) modifyNote(src, viewingNote._id)\n  setReadMode()\n  clearCache('writing')\n}\n"]},"metadata":{},"sourceType":"module"}