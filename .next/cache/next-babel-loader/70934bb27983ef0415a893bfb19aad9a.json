{"ast":null,"code":"import { Note } from '../../logic/colllections/note';\nexport default (async (req, res) => {\n  switch (req.method) {\n    case 'GET':\n      res.status(200).json(await Note.find());\n      break;\n\n    case 'POST':\n      const text = JSON.parse(req.body).text;\n      await new Note(text).insert();\n      res.status(200).json({\n        message: 'ok'\n      });\n      break;\n\n    case 'PUT':\n      const body = JSON.parse(req.body);\n      await Note.update(body.id, body.text);\n      res.status(200).json({\n        message: 'ok'\n      });\n      break;\n\n    case 'DELETE':\n      const id = JSON.parse(req.body);\n      await Note.delete(id);\n      res.status(200).json({\n        message: 'ok'\n      });\n      break;\n  }\n});","map":{"version":3,"sources":["/home/teraoka/app/note/pages/api/note.ts"],"names":["Note","req","res","method","status","json","find","text","JSON","parse","body","insert","message","update","id","delete"],"mappings":"AACA,SAASA,IAAT,QAAqB,+BAArB;AAEA,gBAAe,OAAOC,GAAP,EAA4BC,GAA5B,KAAqD;AAClE,UAAQD,GAAG,CAACE,MAAZ;AACE,SAAK,KAAL;AACED,MAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,MAAML,IAAI,CAACM,IAAL,EAA3B;AACA;;AACF,SAAK,MAAL;AACE,YAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWR,GAAG,CAACS,IAAf,EAAqBH,IAAlC;AACA,YAAM,IAAIP,IAAJ,CAASO,IAAT,EAAeI,MAAf,EAAN;AACAT,MAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEO,QAAAA,OAAO,EAAE;AAAX,OAArB;AACA;;AACF,SAAK,KAAL;AACE,YAAMF,IAAI,GAAGF,IAAI,CAACC,KAAL,CAAWR,GAAG,CAACS,IAAf,CAAb;AACA,YAAMV,IAAI,CAACa,MAAL,CAAYH,IAAI,CAACI,EAAjB,EAAqBJ,IAAI,CAACH,IAA1B,CAAN;AACAL,MAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEO,QAAAA,OAAO,EAAE;AAAX,OAArB;AACA;;AACF,SAAK,QAAL;AACE,YAAME,EAAE,GAAGN,IAAI,CAACC,KAAL,CAAWR,GAAG,CAACS,IAAf,CAAX;AACA,YAAMV,IAAI,CAACe,MAAL,CAAYD,EAAZ,CAAN;AACAZ,MAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEO,QAAAA,OAAO,EAAE;AAAX,OAArB;AACA;AAlBJ;AAoBD,CArBD","sourcesContent":["import { NextApiRequest, NextApiResponse } from 'next'\nimport { Note } from '../../logic/colllections/note'\n\nexport default async (req: NextApiRequest, res: NextApiResponse) => {\n  switch (req.method) {\n    case 'GET':\n      res.status(200).json(await Note.find())\n      break\n    case 'POST':\n      const text = JSON.parse(req.body).text\n      await new Note(text).insert()\n      res.status(200).json({ message: 'ok' })\n      break\n    case 'PUT':\n      const body = JSON.parse(req.body)\n      await Note.update(body.id, body.text)\n      res.status(200).json({ message: 'ok' })\n      break\n    case 'DELETE':\n      const id = JSON.parse(req.body)\n      await Note.delete(id)\n      res.status(200).json({ message: 'ok' })\n      break\n  }\n}\n"]},"metadata":{},"sourceType":"module"}