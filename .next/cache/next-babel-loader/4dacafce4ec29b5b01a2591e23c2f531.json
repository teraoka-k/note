{"ast":null,"code":"var _jsxFileName = \"/home/teraoka/app/note/components/saveButton.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { playEnterSound } from '../util/sounds';\nimport { setHomeMode, isWriteMode, isRewriteMode } from '../states/appMode';\nimport { clearCache } from '../cache/cache';\nimport { viewingNote } from '../states/viewingNote';\nexport const SaveButton = props => __jsx(\"button\", {\n  onClick: () => {\n    playEnterSound();\n    if (isWriteMode()) fetch('/api/note', {\n      method: 'post',\n      body: JSON.stringify({\n        text: props.src\n      })\n    });else if (isRewriteMode()) fetch('/api/note', {\n      method: 'push',\n      body: JSON.stringify({\n        text: props.src,\n        id: viewingNote._id\n      })\n    });\n    setHomeMode();\n    clearCache('writing');\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 3\n  }\n}, \"Save\");","map":{"version":3,"sources":["/home/teraoka/app/note/components/saveButton.tsx"],"names":["playEnterSound","setHomeMode","isWriteMode","isRewriteMode","clearCache","viewingNote","SaveButton","props","fetch","method","body","JSON","stringify","text","src","id","_id"],"mappings":";;;AAAA,SAASA,cAAT,QAA+B,gBAA/B;AACA,SAASC,WAAT,EAAsBC,WAAtB,EAAmCC,aAAnC,QAAwD,mBAAxD;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,WAAT,QAA4B,uBAA5B;AAEA,OAAO,MAAMC,UAAU,GAAIC,KAAD,IACxB;AACE,EAAA,OAAO,EAAE,MAAM;AACbP,IAAAA,cAAc;AAEd,QAAIE,WAAW,EAAf,EACEM,KAAK,CAAC,WAAD,EAAc;AACjBC,MAAAA,MAAM,EAAE,MADS;AAEjBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,IAAI,EAAEN,KAAK,CAACO;AAAd,OAAf;AAFW,KAAd,CAAL,CADF,KAKK,IAAIX,aAAa,EAAjB,EACHK,KAAK,CAAC,WAAD,EAAc;AACjBC,MAAAA,MAAM,EAAE,MADS;AAEjBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,IAAI,EAAEN,KAAK,CAACO,GAAd;AAAmBC,QAAAA,EAAE,EAAEV,WAAW,CAACW;AAAnC,OAAf;AAFW,KAAd,CAAL;AAKFf,IAAAA,WAAW;AACXG,IAAAA,UAAU,CAAC,SAAD,CAAV;AACD,GAjBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADK","sourcesContent":["import { playEnterSound } from '../util/sounds'\nimport { setHomeMode, isWriteMode, isRewriteMode } from '../states/appMode'\nimport { clearCache } from '../cache/cache'\nimport { viewingNote } from '../states/viewingNote'\n\nexport const SaveButton = (props: { src: string }) => (\n  <button\n    onClick={() => {\n      playEnterSound()\n\n      if (isWriteMode())\n        fetch('/api/note', {\n          method: 'post',\n          body: JSON.stringify({ text: props.src }),\n        })\n      else if (isRewriteMode())\n        fetch('/api/note', {\n          method: 'push',\n          body: JSON.stringify({ text: props.src, id: viewingNote._id }),\n        })\n\n      setHomeMode()\n      clearCache('writing')\n    }}\n  >\n    Save\n  </button>\n)\n"]},"metadata":{},"sourceType":"module"}