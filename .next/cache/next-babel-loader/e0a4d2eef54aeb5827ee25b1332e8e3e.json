{"ast":null,"code":"import { useEffect } from 'react';\nimport { isReadMode, setWriteMode, isWriteMode, isRewriteMode, setReadMode } from '../states/appMode';\nexport const useShortcutKeys = () => {\n  useEffect(() => {\n    shortcutKeys.forEach(shortcut => {\n      window.addEventListener(shortcut.event || 'keydown', e => {\n        if ((e.key == shortcut.key || !shortcut.key) && (shortcut.alt && e.altKey || !shortcut.alt) && (shortcut.ctrl && e.ctrlKey || !shortcut.ctrl) && (shortcut.meta && e.metaKey || !shortcut.meta) && (shortcut.shift && e.shiftKey || !shortcut.shift)) shortcut.action();\n      });\n    });\n  }, []);\n};\nconst shortcutKeys = [{\n  key: 'a',\n  action: () => {\n    if (isReadMode()) setWriteMode();\n  }\n}, {\n  key: ['Escape', 'b'],\n  action: () => {\n    if (isWriteMode() || isRewriteMode()) setReadMode();\n  }\n}];\nvar Logic;\n\n(function (Logic) {\n  Logic[Logic[\"or\"] = 0] = \"or\";\n  Logic[Logic[\"and\"] = 1] = \"and\";\n})(Logic || (Logic = {}));","map":{"version":3,"sources":["/home/teraoka/app/note/logic/shortcutKeys.ts"],"names":["useEffect","isReadMode","setWriteMode","isWriteMode","isRewriteMode","setReadMode","useShortcutKeys","shortcutKeys","forEach","shortcut","window","addEventListener","event","e","key","alt","altKey","ctrl","ctrlKey","meta","metaKey","shift","shiftKey","action","Logic"],"mappings":"AAAA,SAASA,SAAT,QAA+B,OAA/B;AACA,SACEC,UADF,EAEEC,YAFF,EAGEC,WAHF,EAIEC,aAJF,EAKEC,WALF,QAMO,mBANP;AAQA,OAAO,MAAMC,eAAe,GAAG,MAAY;AACzCN,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,YAAY,CAACC,OAAb,CAAsBC,QAAD,IAAc;AACjCC,MAAAA,MAAM,CAACC,gBAAP,CACEF,QAAQ,CAACG,KAAT,IAAkB,SADpB,EAEGC,CAAD,IAAsB;AACpB,YACE,CAACA,CAAC,CAACC,GAAF,IAASL,QAAQ,CAACK,GAAlB,IAAyB,CAACL,QAAQ,CAACK,GAApC,MACEL,QAAQ,CAACM,GAAT,IAAgBF,CAAC,CAACG,MAAnB,IAA8B,CAACP,QAAQ,CAACM,GADzC,MAEEN,QAAQ,CAACQ,IAAT,IAAiBJ,CAAC,CAACK,OAApB,IAAgC,CAACT,QAAQ,CAACQ,IAF3C,MAGER,QAAQ,CAACU,IAAT,IAAiBN,CAAC,CAACO,OAApB,IAAgC,CAACX,QAAQ,CAACU,IAH3C,MAIEV,QAAQ,CAACY,KAAT,IAAkBR,CAAC,CAACS,QAArB,IAAkC,CAACb,QAAQ,CAACY,KAJ7C,CADF,EAOEZ,QAAQ,CAACc,MAAT;AACH,OAXH;AAaD,KAdD;AAeD,GAhBQ,EAgBN,EAhBM,CAAT;AAiBD,CAlBM;AAoBP,MAAMhB,YAA2B,GAAG,CAClC;AACEO,EAAAA,GAAG,EAAE,GADP;AAEES,EAAAA,MAAM,EAAE,MAAM;AACZ,QAAItB,UAAU,EAAd,EAAkBC,YAAY;AAC/B;AAJH,CADkC,EAOlC;AACEY,EAAAA,GAAG,EAAE,CAAC,QAAD,EAAW,GAAX,CADP;AAEES,EAAAA,MAAM,EAAE,MAAM;AACZ,QAAIpB,WAAW,MAAMC,aAAa,EAAlC,EAAsCC,WAAW;AAClD;AAJH,CAPkC,CAApC;IA0BKmB,K;;WAAAA,K;AAAAA,EAAAA,K,CAAAA,K;AAAAA,EAAAA,K,CAAAA,K;GAAAA,K,KAAAA,K","sourcesContent":["import { useEffect, Key } from 'react'\nimport {\n  isReadMode,\n  setWriteMode,\n  isWriteMode,\n  isRewriteMode,\n  setReadMode,\n} from '../states/appMode'\n\nexport const useShortcutKeys = (): void => {\n  useEffect(() => {\n    shortcutKeys.forEach((shortcut) => {\n      window.addEventListener(\n        shortcut.event || 'keydown',\n        (e: KeyboardEvent) => {\n          if (\n            (e.key == shortcut.key || !shortcut.key) &&\n            ((shortcut.alt && e.altKey) || !shortcut.alt) &&\n            ((shortcut.ctrl && e.ctrlKey) || !shortcut.ctrl) &&\n            ((shortcut.meta && e.metaKey) || !shortcut.meta) &&\n            ((shortcut.shift && e.shiftKey) || !shortcut.shift)\n          )\n            shortcut.action()\n        }\n      )\n    })\n  }, [])\n}\n\nconst shortcutKeys: ShortcutKey[] = [\n  {\n    key: 'a',\n    action: () => {\n      if (isReadMode()) setWriteMode()\n    },\n  },\n  {\n    key: ['Escape', 'b'],\n    action: () => {\n      if (isWriteMode() || isRewriteMode()) setReadMode()\n    },\n  },\n]\n\ninterface ShortcutKey {\n  key: Key | Key[]\n  action: () => void\n  event?: keyof WindowEventMap\n  logic?: Logic\n  alt?: boolean\n  ctrl?: boolean\n  meta?: boolean\n  shift?: boolean\n}\n\nenum Logic {\n  or,\n  and,\n}\n"]},"metadata":{},"sourceType":"module"}