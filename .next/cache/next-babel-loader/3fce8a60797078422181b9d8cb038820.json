{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { executeAsync } from '../logic/async';\nexport let notes;\nexport let setNotes;\nexport function useNotes() {\n  ;\n  [notes, setNotes] = useState([]);\n  useEffect(loadNotes, []);\n}\n\nasync function findNotes() {\n  return await (await fetch('api/note')).json();\n}\n\nfunction loadNotes() {\n  executeAsync(async () => setNotes(await findNotes()));\n}\n\nexport function deleteNote(note) {\n  fetch(`api/note`, {\n    method: 'DELETE',\n    body: JSON.stringify(note._id)\n  });\n  loadNotes();\n}\nexport function addNote(src) {\n  fetch('/api/note', {\n    method: 'post',\n    body: JSON.stringify({\n      text: src\n    })\n  });\n}\nexport function modifyNote(src) {\n  fetch('/api/note', {\n    method: 'put',\n    body: JSON.stringify({\n      text: props.src,\n      id: viewingNote._id\n    })\n  });\n}","map":{"version":3,"sources":["/home/teraoka/app/note/states/notes.ts"],"names":["useState","useEffect","executeAsync","notes","setNotes","useNotes","loadNotes","findNotes","fetch","json","deleteNote","note","method","body","JSON","stringify","_id","addNote","src","text","modifyNote","props","id","viewingNote"],"mappings":"AAAA,SAAmBA,QAAnB,EAA6BC,SAA7B,QAA8D,OAA9D;AAEA,SAASC,YAAT,QAA6B,gBAA7B;AAEA,OAAO,IAAIC,KAAJ;AACP,OAAO,IAAIC,QAAJ;AAEP,OAAO,SAASC,QAAT,GAAoB;AACzB;AAAC,GAACF,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAA5B;AACDC,EAAAA,SAAS,CAACK,SAAD,EAAY,EAAZ,CAAT;AACD;;AAED,eAAeC,SAAf,GAA4C;AAC1C,SAAO,MAAM,CAAC,MAAMC,KAAK,CAAC,UAAD,CAAZ,EAA0BC,IAA1B,EAAb;AACD;;AAED,SAASH,SAAT,GAA2B;AACzBJ,EAAAA,YAAY,CAAC,YAAYE,QAAQ,CAAC,MAAMG,SAAS,EAAhB,CAArB,CAAZ;AACD;;AAED,OAAO,SAASG,UAAT,CAAoBC,IAApB,EAAsC;AAC3CH,EAAAA,KAAK,CAAE,UAAF,EAAa;AAChBI,IAAAA,MAAM,EAAE,QADQ;AAEhBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAI,CAACK,GAApB;AAFU,GAAb,CAAL;AAIAV,EAAAA,SAAS;AACV;AAED,OAAO,SAASW,OAAT,CAAiBC,GAAjB,EAAoC;AACzCV,EAAAA,KAAK,CAAC,WAAD,EAAc;AACjBI,IAAAA,MAAM,EAAE,MADS;AAEjBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEI,MAAAA,IAAI,EAAED;AAAR,KAAf;AAFW,GAAd,CAAL;AAID;AAED,OAAO,SAASE,UAAT,CAAoBF,GAApB,EAAuC;AAC5CV,EAAAA,KAAK,CAAC,WAAD,EAAc;AACjBI,IAAAA,MAAM,EAAE,KADS;AAEjBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEI,MAAAA,IAAI,EAAEE,KAAK,CAACH,GAAd;AAAmBI,MAAAA,EAAE,EAAEC,WAAW,CAACP;AAAnC,KAAf;AAFW,GAAd,CAAL;AAID","sourcesContent":["import { Dispatch, useState, useEffect, SetStateAction } from 'react'\nimport { Note } from '../logic/colllections/note'\nimport { executeAsync } from '../logic/async'\n\nexport let notes: Note[]\nexport let setNotes: Dispatch<SetStateAction<Note[]>>\n\nexport function useNotes() {\n  ;[notes, setNotes] = useState([])\n  useEffect(loadNotes, [])\n}\n\nasync function findNotes(): Promise<Note[]> {\n  return await (await fetch('api/note')).json()\n}\n\nfunction loadNotes(): void {\n  executeAsync(async () => setNotes(await findNotes()))\n}\n\nexport function deleteNote(note: Note): void {\n  fetch(`api/note`, {\n    method: 'DELETE',\n    body: JSON.stringify(note._id),\n  })\n  loadNotes()\n}\n\nexport function addNote(src: string): void {\n  fetch('/api/note', {\n    method: 'post',\n    body: JSON.stringify({ text: src }),\n  })\n}\n\nexport function modifyNote(src: string): void {\n  fetch('/api/note', {\n    method: 'put',\n    body: JSON.stringify({ text: props.src, id: viewingNote._id }),\n  })\n}\n"]},"metadata":{},"sourceType":"module"}