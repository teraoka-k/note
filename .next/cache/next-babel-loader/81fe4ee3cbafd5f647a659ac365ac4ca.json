{"ast":null,"code":"import { useState } from 'react';\nimport { executeAsync } from '../logic/async';\nexport let notes;\nexport let setNotes;\nexport function useNotes() {\n  ;\n  [notes, setNotes] = useState([]);\n  loadNotes();\n}\n\nasync function findNotes() {\n  return await (await fetch('api/notes')).json();\n}\n\nfunction insertNote(note) {\n  fetch('api/notes', {\n    body: {\n      note\n    }\n  });\n}\n\nexport function loadNotes() {\n  executeAsync(async () => setNotes(await findNotes()));\n}","map":{"version":3,"sources":["/home/teraoka/app/note/states/notes.ts"],"names":["useState","executeAsync","notes","setNotes","useNotes","loadNotes","findNotes","fetch","json","insertNote","note","body"],"mappings":"AAAA,SAAmBA,QAAnB,QAA8D,OAA9D;AAEA,SAASC,YAAT,QAA6B,gBAA7B;AAEA,OAAO,IAAIC,KAAJ;AACP,OAAO,IAAIC,QAAJ;AAEP,OAAO,SAASC,QAAT,GAAoB;AACzB;AAAC,GAACF,KAAD,EAAQC,QAAR,IAAoBH,QAAQ,CAAC,EAAD,CAA5B;AACDK,EAAAA,SAAS;AACV;;AAED,eAAeC,SAAf,GAA4C;AAC1C,SAAO,MAAM,CAAC,MAAMC,KAAK,CAAC,WAAD,CAAZ,EAA2BC,IAA3B,EAAb;AACD;;AACD,SAASC,UAAT,CAAoBC,IAApB,EAAsC;AACpCH,EAAAA,KAAK,CAAC,WAAD,EAAc;AACjBI,IAAAA,IAAI,EAAE;AAAED,MAAAA;AAAF;AADW,GAAd,CAAL;AAGD;;AAED,OAAO,SAASL,SAAT,GAA2B;AAChCJ,EAAAA,YAAY,CAAC,YAAYE,QAAQ,CAAC,MAAMG,SAAS,EAAhB,CAArB,CAAZ;AACD","sourcesContent":["import { Dispatch, useState, useEffect, SetStateAction } from 'react'\nimport { Note } from '../logic/colllections/note'\nimport { executeAsync } from '../logic/async'\n\nexport let notes: Note[]\nexport let setNotes: Dispatch<SetStateAction<Note[]>>\n\nexport function useNotes() {\n  ;[notes, setNotes] = useState([])\n  loadNotes()\n}\n\nasync function findNotes(): Promise<Note[]> {\n  return await (await fetch('api/notes')).json()\n}\nfunction insertNote(note: Note): void {\n  fetch('api/notes', {\n    body: { note },\n  })\n}\n\nexport function loadNotes(): void {\n  executeAsync(async () => setNotes(await findNotes()))\n}\n"]},"metadata":{},"sourceType":"module"}