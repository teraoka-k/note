{"ast":null,"code":"import { useEffect } from 'react';\nimport { isReadMode, setWriteMode } from '../states/appMode';\nexport const useShortcutKeys = () => {\n  useEffect(() => {\n    shortcutKeys.forEach(shortcut => {\n      window.addEventListener(shortcut.event || 'keydown', e => {\n        if ((e.key == shortcut.key || !shortcut.key) && (shortcut.alt && e.altKey || !shortcut.alt) && (shortcut.ctrl && e.ctrlKey || !shortcut.ctrl) && (shortcut.meta && e.metaKey || !shortcut.meta) && (shortcut.shift && e.shiftKey || !shortcut.shift)) shortcut.action();\n      });\n    });\n  }, []);\n};\nconst shortcutKeys = [{\n  key: 'a',\n  action: () => {\n    if (isReadMode()) setWriteMode();\n  }\n}];","map":{"version":3,"sources":["/home/teraoka/app/note/logic/shortcutKeys.ts"],"names":["useEffect","isReadMode","setWriteMode","useShortcutKeys","shortcutKeys","forEach","shortcut","window","addEventListener","event","e","key","alt","altKey","ctrl","ctrlKey","meta","metaKey","shift","shiftKey","action"],"mappings":"AAAA,SAASA,SAAT,QAA+B,OAA/B;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,mBAAzC;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAY;AACzCH,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,YAAY,CAACC,OAAb,CAAsBC,QAAD,IAAc;AACjCC,MAAAA,MAAM,CAACC,gBAAP,CACEF,QAAQ,CAACG,KAAT,IAAkB,SADpB,EAEGC,CAAD,IAAsB;AACpB,YACE,CAACA,CAAC,CAACC,GAAF,IAASL,QAAQ,CAACK,GAAlB,IAAyB,CAACL,QAAQ,CAACK,GAApC,MACEL,QAAQ,CAACM,GAAT,IAAgBF,CAAC,CAACG,MAAnB,IAA8B,CAACP,QAAQ,CAACM,GADzC,MAEEN,QAAQ,CAACQ,IAAT,IAAiBJ,CAAC,CAACK,OAApB,IAAgC,CAACT,QAAQ,CAACQ,IAF3C,MAGER,QAAQ,CAACU,IAAT,IAAiBN,CAAC,CAACO,OAApB,IAAgC,CAACX,QAAQ,CAACU,IAH3C,MAIEV,QAAQ,CAACY,KAAT,IAAkBR,CAAC,CAACS,QAArB,IAAkC,CAACb,QAAQ,CAACY,KAJ7C,CADF,EAOEZ,QAAQ,CAACc,MAAT;AACH,OAXH;AAaD,KAdD;AAeD,GAhBQ,EAgBN,EAhBM,CAAT;AAiBD,CAlBM;AAoBP,MAAMhB,YAA2B,GAAG,CAClC;AACEO,EAAAA,GAAG,EAAE,GADP;AAEES,EAAAA,MAAM,EAAE,MAAM;AACZ,QAAInB,UAAU,EAAd,EAAkBC,YAAY;AAC/B;AAJH,CADkC,CAApC","sourcesContent":["import { useEffect, Key } from 'react'\nimport { isReadMode, setWriteMode } from '../states/appMode'\n\nexport const useShortcutKeys = (): void => {\n  useEffect(() => {\n    shortcutKeys.forEach((shortcut) => {\n      window.addEventListener(\n        shortcut.event || 'keydown',\n        (e: KeyboardEvent) => {\n          if (\n            (e.key == shortcut.key || !shortcut.key) &&\n            ((shortcut.alt && e.altKey) || !shortcut.alt) &&\n            ((shortcut.ctrl && e.ctrlKey) || !shortcut.ctrl) &&\n            ((shortcut.meta && e.metaKey) || !shortcut.meta) &&\n            ((shortcut.shift && e.shiftKey) || !shortcut.shift)\n          )\n            shortcut.action()\n        }\n      )\n    })\n  }, [])\n}\n\nconst shortcutKeys: ShortcutKey[] = [\n  {\n    key: 'a',\n    action: () => {\n      if (isReadMode()) setWriteMode()\n    },\n  },\n]\n\ninterface ShortcutKey {\n  key: Key\n  action: () => void\n  event?: keyof WindowEventMap\n  alt?: boolean\n  ctrl?: boolean\n  meta?: boolean\n  shift?: boolean\n}\n"]},"metadata":{},"sourceType":"module"}