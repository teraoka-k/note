{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/teraoka/app/note/components/saveButton.tsx\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { setHomeMode, isWriteMode, isRewriteMode } from '../states/appMode';\nimport { clearCache } from '../cache/cache';\nimport { viewingNote } from '../states/viewingNote';\nimport { playLowTone } from '../states/soundLibrary';\nexport var SaveButton = function SaveButton(props) {\n  return __jsx(\"button\", {\n    onClick: function onClick() {\n      playLowTone();\n      if (isWriteMode()) fetch('/api/note', {\n        method: 'post',\n        body: JSON.stringify({\n          text: props.src\n        })\n      });else if (isRewriteMode()) fetch('/api/note', {\n        method: 'put',\n        body: JSON.stringify({\n          text: props.src,\n          id: viewingNote._id\n        })\n      });\n      setHomeMode();\n      clearCache('writing');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 3\n    }\n  }, \"Save\");\n};\n_c = SaveButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"SaveButton\");","map":{"version":3,"sources":["/home/teraoka/app/note/components/saveButton.tsx"],"names":["setHomeMode","isWriteMode","isRewriteMode","clearCache","viewingNote","playLowTone","SaveButton","props","fetch","method","body","JSON","stringify","text","src","id","_id"],"mappings":";;;;;AAAA,SAASA,WAAT,EAAsBC,WAAtB,EAAmCC,aAAnC,QAAwD,mBAAxD;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,WAAT,QAA4B,wBAA5B;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD;AAAA,SACxB;AACE,IAAA,OAAO,EAAE,mBAAM;AACbF,MAAAA,WAAW;AAEX,UAAIJ,WAAW,EAAf,EACEO,KAAK,CAAC,WAAD,EAAc;AACjBC,QAAAA,MAAM,EAAE,MADS;AAEjBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,UAAAA,IAAI,EAAEN,KAAK,CAACO;AAAd,SAAf;AAFW,OAAd,CAAL,CADF,KAKK,IAAIZ,aAAa,EAAjB,EACHM,KAAK,CAAC,WAAD,EAAc;AACjBC,QAAAA,MAAM,EAAE,KADS;AAEjBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,UAAAA,IAAI,EAAEN,KAAK,CAACO,GAAd;AAAmBC,UAAAA,EAAE,EAAEX,WAAW,CAACY;AAAnC,SAAf;AAFW,OAAd,CAAL;AAKFhB,MAAAA,WAAW;AACXG,MAAAA,UAAU,CAAC,SAAD,CAAV;AACD,KAjBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADwB;AAAA,CAAnB;KAAMG,U","sourcesContent":["import { setHomeMode, isWriteMode, isRewriteMode } from '../states/appMode'\nimport { clearCache } from '../cache/cache'\nimport { viewingNote } from '../states/viewingNote'\nimport { playLowTone } from '../states/soundLibrary'\n\nexport const SaveButton = (props: { src: string }) => (\n  <button\n    onClick={() => {\n      playLowTone()\n\n      if (isWriteMode())\n        fetch('/api/note', {\n          method: 'post',\n          body: JSON.stringify({ text: props.src }),\n        })\n      else if (isRewriteMode())\n        fetch('/api/note', {\n          method: 'put',\n          body: JSON.stringify({ text: props.src, id: viewingNote._id }),\n        })\n\n      setHomeMode()\n      clearCache('writing')\n    }}\n  >\n    Save\n  </button>\n)\n"]},"metadata":{},"sourceType":"module"}