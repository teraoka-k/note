{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { ObjectID } from 'mongodb';\nimport { insertDocument, findDocuments, deleteDocument, updateDocument } from '../logic/mongoAPI';\nconst collectionName = 'note';\nexport class Note {\n  constructor(text) {\n    _defineProperty(this, \"_id\", void 0);\n\n    _defineProperty(this, \"text\", void 0);\n\n    this.text = text;\n  }\n\n  async insert() {\n    await insertDocument(collectionName, this);\n  }\n\n  static async find(id) {\n    return await findDocuments(collectionName, id ? {\n      _id: new ObjectID(id)\n    } : {});\n  }\n\n  static async delete(id) {\n    await deleteDocument(collectionName, {\n      _id: new ObjectID(id)\n    });\n  }\n\n  static async update(id, text) {\n    await updateDocument(collectionName, {\n      _id: new ObjectID(id)\n    }, {\n      text\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/teraoka/app/note/model/note.ts"],"names":["ObjectID","insertDocument","findDocuments","deleteDocument","updateDocument","collectionName","Note","constructor","text","insert","find","id","_id","delete","update"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,SAAzB;AACA,SACEC,cADF,EAEEC,aAFF,EAGEC,cAHF,EAIEC,cAJF,QAKO,mBALP;AAOA,MAAMC,cAAc,GAAG,MAAvB;AAEA,OAAO,MAAMC,IAAN,CAAW;AAIhBC,EAAAA,WAAW,CAACC,IAAD,EAAe;AAAA;;AAAA;;AACxB,SAAKA,IAAL,GAAYA,IAAZ;AACD;;AAED,QAAMC,MAAN,GAA8B;AAC5B,UAAMR,cAAc,CAACI,cAAD,EAAiB,IAAjB,CAApB;AACD;;AACD,eAAaK,IAAb,CAAkBC,EAAlB,EAAgD;AAC9C,WAAQ,MAAMT,aAAa,CACzBG,cADyB,EAEzBM,EAAE,GAAG;AAAEC,MAAAA,GAAG,EAAE,IAAIZ,QAAJ,CAAaW,EAAb;AAAP,KAAH,GAA+B,EAFR,CAA3B;AAID;;AACD,eAAaE,MAAb,CAAoBF,EAApB,EAA+C;AAC7C,UAAMR,cAAc,CAACE,cAAD,EAAiB;AAAEO,MAAAA,GAAG,EAAE,IAAIZ,QAAJ,CAAaW,EAAb;AAAP,KAAjB,CAApB;AACD;;AACD,eAAaG,MAAb,CAAoBH,EAApB,EAAgCH,IAAhC,EAA6D;AAC3D,UAAMJ,cAAc,CAACC,cAAD,EAAiB;AAAEO,MAAAA,GAAG,EAAE,IAAIZ,QAAJ,CAAaW,EAAb;AAAP,KAAjB,EAA4C;AAAEH,MAAAA;AAAF,KAA5C,CAApB;AACD;;AAtBe","sourcesContent":["import { ObjectID } from 'mongodb'\nimport {\n  insertDocument,\n  findDocuments,\n  deleteDocument,\n  updateDocument,\n} from '../logic/mongoAPI'\n\nconst collectionName = 'note'\n\nexport class Note {\n  _id: string\n  text: string\n\n  constructor(text: string) {\n    this.text = text\n  }\n\n  async insert(): Promise<void> {\n    await insertDocument(collectionName, this)\n  }\n  static async find(id?: string): Promise<Note[]> {\n    return (await findDocuments(\n      collectionName,\n      id ? { _id: new ObjectID(id) } : {}\n    )) as Note[]\n  }\n  static async delete(id: string): Promise<void> {\n    await deleteDocument(collectionName, { _id: new ObjectID(id) })\n  }\n  static async update(id: string, text: string): Promise<void> {\n    await updateDocument(collectionName, { _id: new ObjectID(id) }, { text })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}